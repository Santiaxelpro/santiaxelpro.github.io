<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Proxy</title>
</head>
<body>
<script>
const url = new URL(location.href).searchParams.get("url");
if (!url) document.body.innerHTML = "No URL";

fetch(url)
  .then(res => res.text())
  .then(html => {

    // Reescribe rutas relativas en absolutas
    html = html.replace(/(src|href)="([^"]+)"/g, (m, type, path) => {
      if (path.startsWith("http")) return m;
      return `${type}="${new URL(path, url)}"`;
    });

    document.write(html);
    document.close();
  });
</script>
</body>
</html>
